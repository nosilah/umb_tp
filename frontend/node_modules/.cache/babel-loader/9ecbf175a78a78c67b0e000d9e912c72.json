{"remainingRequest":"/home/zubari/umb/ver_2/frontend/node_modules/thread-loader/dist/cjs.js!/home/zubari/umb/ver_2/frontend/node_modules/babel-loader/lib/index.js!/home/zubari/umb/ver_2/frontend/node_modules/eslint-loader/index.js??ref--13-0!/home/zubari/umb/ver_2/frontend/src/store/auth.module.js","dependencies":[{"path":"/home/zubari/umb/ver_2/frontend/src/store/auth.module.js","mtime":1634726406724},{"path":"/home/zubari/umb/ver_2/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1634726394652},{"path":"/home/zubari/umb/ver_2/frontend/node_modules/thread-loader/dist/cjs.js","mtime":1634726396724},{"path":"/home/zubari/umb/ver_2/frontend/node_modules/babel-loader/lib/index.js","mtime":1634726394656},{"path":"/home/zubari/umb/ver_2/frontend/node_modules/eslint-loader/index.js","mtime":1634726393256}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEF1dGhTZXJ2aWNlIGZyb20gJy4uL3NlcnZpY2VzL2F1dGguc2VydmljZSc7CmNvbnN0IHVzZXIgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpOwpjb25zdCBpbml0aWFsU3RhdGUgPSB1c2VyID8gewogIHN0YXR1czogewogICAgbG9nZ2VkSW46IHRydWUKICB9LAogIHVzZXIKfSA6IHsKICBzdGF0dXM6IHsKICAgIGxvZ2dlZEluOiBmYWxzZQogIH0sCiAgdXNlcjogbnVsbAp9OwpleHBvcnQgY29uc3QgYXV0aCA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiBpbml0aWFsU3RhdGUsCiAgYWN0aW9uczogewogICAgbG9naW4oewogICAgICBjb21taXQKICAgIH0sIHVzZXIpIHsKICAgICAgcmV0dXJuIEF1dGhTZXJ2aWNlLmxvZ2luKHVzZXIpLnRoZW4odXNlciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpblN1Y2Nlc3MnLCB1c2VyKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVzZXIpOwogICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgY29tbWl0KCdsb2dpbkZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgbG9nb3V0KHsKICAgICAgY29tbWl0CiAgICB9KSB7CiAgICAgIEF1dGhTZXJ2aWNlLmxvZ291dCgpOwogICAgICBjb21taXQoJ2xvZ291dCcpOwogICAgfSwKCiAgICByZWdpc3Rlcih7CiAgICAgIGNvbW1pdAogICAgfSwgdXNlcikgewogICAgICByZXR1cm4gQXV0aFNlcnZpY2UucmVnaXN0ZXIodXNlcikudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29tbWl0KCdyZWdpc3RlclN1Y2Nlc3MnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlLmRhdGEpOwogICAgICB9LCBlcnJvciA9PiB7CiAgICAgICAgY29tbWl0KCdyZWdpc3RlckZhaWx1cmUnKTsKICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpOwogICAgICB9KTsKICAgIH0KCiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIGxvZ2luU3VjY2VzcyhzdGF0ZSwgdXNlcikgewogICAgICBzdGF0ZS5zdGF0dXMubG9nZ2VkSW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIH0sCgogICAgbG9naW5GYWlsdXJlKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCgogICAgbG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIH0sCgogICAgcmVnaXN0ZXJTdWNjZXNzKHN0YXRlKSB7CiAgICAgIHN0YXRlLnN0YXR1cy5sb2dnZWRJbiA9IGZhbHNlOwogICAgfSwKCiAgICByZWdpc3RlckZhaWx1cmUoc3RhdGUpIHsKICAgICAgc3RhdGUuc3RhdHVzLmxvZ2dlZEluID0gZmFsc2U7CiAgICB9CgogIH0KfTs="},{"version":3,"sources":["/home/zubari/umb/ver_2/frontend/src/store/auth.module.js"],"names":["AuthService","user","JSON","parse","localStorage","getItem","initialState","status","loggedIn","auth","namespaced","state","actions","login","commit","then","Promise","resolve","error","reject","logout","register","response","data","mutations","loginSuccess","loginFailure","registerSuccess","registerFailure"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,0BAAxB;AAEA,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAb;AACA,MAAMC,YAAY,GAAGL,IAAI,GACrB;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA8BP,EAAAA;AAA9B,CADqB,GAErB;AAAEM,EAAAA,MAAM,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GAAV;AAA+BP,EAAAA,IAAI,EAAE;AAArC,CAFJ;AAIA,OAAO,MAAMQ,IAAI,GAAG;AAClBC,EAAAA,UAAU,EAAE,IADM;AAElBC,EAAAA,KAAK,EAAEL,YAFW;AAGlBM,EAAAA,OAAO,EAAE;AACPC,IAAAA,KAAK,CAAC;AAAEC,MAAAA;AAAF,KAAD,EAAab,IAAb,EAAmB;AACtB,aAAOD,WAAW,CAACa,KAAZ,CAAkBZ,IAAlB,EAAwBc,IAAxB,CACLd,IAAI,IAAI;AACNa,QAAAA,MAAM,CAAC,cAAD,EAAiBb,IAAjB,CAAN;AACA,eAAOe,OAAO,CAACC,OAAR,CAAgBhB,IAAhB,CAAP;AACD,OAJI,EAKLiB,KAAK,IAAI;AACPJ,QAAAA,MAAM,CAAC,cAAD,CAAN;AACA,eAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACD,OARI,CAAP;AAUD,KAZM;;AAaPE,IAAAA,MAAM,CAAC;AAAEN,MAAAA;AAAF,KAAD,EAAa;AACjBd,MAAAA,WAAW,CAACoB,MAAZ;AACAN,MAAAA,MAAM,CAAC,QAAD,CAAN;AACD,KAhBM;;AAiBPO,IAAAA,QAAQ,CAAC;AAAEP,MAAAA;AAAF,KAAD,EAAab,IAAb,EAAmB;AACzB,aAAOD,WAAW,CAACqB,QAAZ,CAAqBpB,IAArB,EAA2Bc,IAA3B,CACLO,QAAQ,IAAI;AACVR,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACA,eAAOE,OAAO,CAACC,OAAR,CAAgBK,QAAQ,CAACC,IAAzB,CAAP;AACD,OAJI,EAKLL,KAAK,IAAI;AACPJ,QAAAA,MAAM,CAAC,iBAAD,CAAN;AACA,eAAOE,OAAO,CAACG,MAAR,CAAeD,KAAf,CAAP;AACD,OARI,CAAP;AAUD;;AA5BM,GAHS;AAiClBM,EAAAA,SAAS,EAAE;AACTC,IAAAA,YAAY,CAACd,KAAD,EAAQV,IAAR,EAAc;AACxBU,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,IAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAaA,IAAb;AACD,KAJQ;;AAKTyB,IAAAA,YAAY,CAACf,KAAD,EAAQ;AAClBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACD,KARQ;;AASTmB,IAAAA,MAAM,CAACT,KAAD,EAAQ;AACZA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACAG,MAAAA,KAAK,CAACV,IAAN,GAAa,IAAb;AACD,KAZQ;;AAaT0B,IAAAA,eAAe,CAAChB,KAAD,EAAQ;AACrBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACD,KAfQ;;AAgBToB,IAAAA,eAAe,CAACjB,KAAD,EAAQ;AACrBA,MAAAA,KAAK,CAACJ,MAAN,CAAaC,QAAb,GAAwB,KAAxB;AACD;;AAlBQ;AAjCO,CAAb","sourcesContent":["import AuthService from '../services/auth.service';\n\nconst user = JSON.parse(localStorage.getItem('user'));\nconst initialState = user\n  ? { status: { loggedIn: true }, user }\n  : { status: { loggedIn: false }, user: null };\n\nexport const auth = {\n  namespaced: true,\n  state: initialState,\n  actions: {\n    login({ commit }, user) {\n      return AuthService.login(user).then(\n        user => {\n          commit('loginSuccess', user);\n          return Promise.resolve(user);\n        },\n        error => {\n          commit('loginFailure');\n          return Promise.reject(error);\n        }\n      );\n    },\n    logout({ commit }) {\n      AuthService.logout();\n      commit('logout');\n    },\n    register({ commit }, user) {\n      return AuthService.register(user).then(\n        response => {\n          commit('registerSuccess');\n          return Promise.resolve(response.data);\n        },\n        error => {\n          commit('registerFailure');\n          return Promise.reject(error);\n        }\n      );\n    }\n  },\n  mutations: {\n    loginSuccess(state, user) {\n      state.status.loggedIn = true;\n      state.user = user;\n    },\n    loginFailure(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    logout(state) {\n      state.status.loggedIn = false;\n      state.user = null;\n    },\n    registerSuccess(state) {\n      state.status.loggedIn = false;\n    },\n    registerFailure(state) {\n      state.status.loggedIn = false;\n    }\n  }\n};\n"]}]}